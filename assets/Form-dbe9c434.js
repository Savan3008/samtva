import{u as F,r as n,e as b,j as e,L as S,g as T,Q as s}from"./index-785252ed.js";import{I as f,a as v,b as u,c as w}from"./InputTextarea-e5da7da1.js";const k=({data:o})=>{var m;const a=F(),[c,x]=n.useState({}),[p,d]=n.useState(!1),[t,N]=n.useState({createdBy:(m=b)==null?void 0:m.userId,floorName:o!=null&&o.floorName?o.floorName:"",floorDesc:o!=null&&o.floorDesc?o.floorDesc:""}),i=r=>{const{name:l,value:g}=r.target;N({...t,[l]:g})},h=r=>{const l={};return r.floorName||(l.floorName="Floor Name is required"),r.floorDesc||(l.floorDesc="Floor Description is required"),l},j=r=>{x(h(t)),d(!0)},I=async()=>{try{await T.post("createFloor",t),s.success("Successfully Excecuted!",{position:s.POSITION.TOP_RIGHT,autoClose:1500}),a("/master/unit-type")}catch(r){s.error("Something went wrong!",{position:s.POSITION.TOP_RIGHT,autoClose:1500}),console.log(r)}},y=async()=>{try{console.log("editFloor",t),s.success("Successfully Excecuted!",{position:s.POSITION.TOP_RIGHT,autoClose:1500}),a("/master/unit-type")}catch(r){s.error("Something went wrong!",{position:s.POSITION.TOP_RIGHT,autoClose:1500}),console.log(r)}};return n.useEffect(()=>{Object.keys(c).length===0&&p&&(o!=null&&o.floorId?y():I())},[c]),e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",children:[e.jsxs("div",{className:"mb-5.5 flex flex-col gap-5.5 sm:flex-row",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx(f,{htmlFor:"floorName",lable:"Floor Name"}),e.jsx(v,{name:"floorName",type:"text",changeHandler:i,value:t.floorName}),e.jsx(u,{error:c.floorName})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx(f,{htmlFor:"floorDesc",lable:"Floor Name"}),e.jsx(w,{name:"floorDesc",changeHandler:i,value:t.floorDesc}),e.jsx(u,{error:c.floorDesc})]})]}),e.jsxs("div",{className:"flex justify-end gap-4.5",children:[e.jsx(S,{to:"/master/floor",className:"flex justify-center rounded border border-stroke py-2 px-6 font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white",children:"Cancel"}),e.jsx("button",{className:"flex justify-center rounded bg-primary py-2 px-6 font-medium text-gray hover:shadow-1",type:"button",onClick:r=>j(),children:"Save"})]})]})})};export{k as F};
