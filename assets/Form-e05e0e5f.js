import{u as b,r as c,e as S,j as e,L as T,h as v,Q as r}from"./index-785252ed.js";import{I as m,a as w,b as x,c as O}from"./InputTextarea-e5da7da1.js";const k=({data:t})=>{var l;const u=b(),[i,p]=c.useState({}),[f,d]=c.useState(!1),[n,h]=c.useState({createdBy:(l=S)==null?void 0:l.userId,unitName:t!=null&&t.unitName?t.unitName:"",unitDesc:t!=null&&t.unitDesc?t.unitDesc:""}),a=s=>{const{name:o,value:g}=s.target;h({...n,[o]:g})},N=s=>{const o={};return s.unitName||(o.unitName="Unit Name is required"),s.unitDesc||(o.unitDesc="Unit Description is required"),o},j=s=>{p(N(n)),d(!0)},I=async()=>{try{await v.post("createUnit",n),r.success("Successfully Excecuted!",{position:r.POSITION.TOP_RIGHT,autoClose:1500}),u("/master/unit-type")}catch(s){r.error("Something went wrong!",{position:r.POSITION.TOP_RIGHT,autoClose:1500}),console.log(s)}},y=async()=>{try{console.log("editUnit",n),r.success("Successfully Excecuted!",{position:r.POSITION.TOP_RIGHT,autoClose:1500}),u("/master/unit-type")}catch(s){r.error("Something went wrong!",{position:r.POSITION.TOP_RIGHT,autoClose:1500}),console.log(s)}};return c.useEffect(()=>{Object.keys(i).length===0&&f&&(t!=null&&t.unitId?y():I())},[i]),e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",children:[e.jsxs("div",{className:"mb-5.5 flex flex-col gap-5.5 sm:flex-row",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx(m,{htmlFor:"unitName",lable:"Unit Name"}),e.jsx(w,{name:"unitName",type:"text",changeHandler:a,value:n.unitName}),e.jsx(x,{error:i.unitName})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx(m,{htmlFor:"unitDesc",lable:"Unit Name"}),e.jsx(O,{name:"unitDesc",changeHandler:a,value:n.unitDesc}),e.jsx(x,{error:i.unitDesc})]})]}),e.jsxs("div",{className:"flex justify-end gap-4.5",children:[e.jsx(T,{to:"/master/unit",className:"flex justify-center rounded border border-stroke py-2 px-6 font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white",children:"Cancel"}),e.jsx("button",{className:"flex justify-center rounded bg-primary py-2 px-6 font-medium text-gray hover:shadow-1",type:"button",onClick:s=>j(),children:"Save"})]})]})})};export{k as F};
